name: Deploy to GitHub Pages

on:
  push:
    branches:
      - gh-pages # Bạn có thể thay đổi branch nếu không phải là `main`

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      # 1. Checkout mã nguồn của bạn
      - name: Checkout code
        uses: actions/checkout@v2

      # 2. Cài đặt Node.js
      - name: Set up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: "16" # Chọn version Node.js bạn dùng

      # 3. Cài đặt các dependencies
      - name: Install dependencies
        run: npm install

      # 4. Build project
      - name: Build the project
        run: npm run build

      # 5. Cấu hình secrets (sử dụng API key trong quá trình build)
      - name: Deploy to GitHub Pages
        env:
          VITE_API_KEY: ${{ secrets.VITE_API_KEY }} # Lấy API key từ GitHub Secrets
        run: |
          echo "API Key: $VITE_API_KEY"  # Kiểm tra xem key có đúng không (nên bỏ dòng này trong thực tế)
          npm run deploy
